(()=>{"use strict";new(function(){function t(){this.vStorageStore={},this.rendererStore={},this.currentRootId=null}return t.prototype.addRenderer=function(t,e){this.rendererStore[t]=e},t.prototype.addVStorage=function(t,e){this.vStorageStore[t]=e},t.prototype.getCurrentVStorage=function(){if(null===this.currentRootId)throw Error("현재 rootId 가 설정되지 않았습니다!");return this.vStorageStore[this.currentRootId]},t.prototype.getCurrentRenderer=function(){if(null===this.currentRootId)throw Error("현재 rootId 가 설정되지 않았습니다!");return this.rendererStore[this.currentRootId]},t.prototype.setCurrentRootId=function(t){this.currentRootId=t},t}());var t=["a","abbr","acronym","abbr","address","applet","embed","object","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","ul","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1> to <h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","del","s","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],e=["accept","accept-charset","accesskey","action","alt","async","autocomplete","autofocus","autoplay","charset","checked","cite","class","cols","colspan","content","contenteditable","controls","coords","data","data-*","datetime","default","defer","dir","dirname","disabled","download","draggable","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","id","ismap","kind","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","muted","name","novalidate","onabort","onafterprint","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","ononline","onpageshow","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onsearch","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onunload","onvolumechange","onwaiting","onwheel","open","optimum","pattern","placeholder","poster","preload","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","selected","shape","size","sizes","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap"],r=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","@charset","clear","clip","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","@font-face","font-family","font-feature-settings","font-kerning","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-caps","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","@import","isolation","justify-content","@keyframes","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","@media","min-height","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","row-gap","scroll-behavior","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-justify","text-overflow","text-shadow","text-transform","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","white-space","width","word-break","word-spacing","word-wrap","writing-mode","z-index"],o=["abort","animationend","animationiteration","animationstart","blur","canplay","canplaythrough","change","click","contextmenu","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","ended","error","focus","focusin","focusout","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pause","play","playing","progress","ratechange","resize","reset","scroll","seeked","seeking","select","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","transitionend","volumechange","waiting","wheel"],n=function(t,e){return t.some((function(t){return t===e}))},i=function(o){var i,a,s,l=function(e){var r=e.split(/[\#,\.,\@,\$]/)[0];if(!function(e){return!!n(t,e)}(r))throw Error("올바르지 않은 tag 타입입니다!");return r}(o),d=(null!==(a=o,s=a.match(/\#([0-9]|[A-Z]|[a-z])*/g),i=s?s.map((function(t){return t.substr(1)})):null)&&void 0!==i?i:[null])[0],u=function(t){var e=t.match(/\.([0-9]|[A-Z]|[a-z]|[-])*/g);return e?e.map((function(t){return t.substr(1)})):null}(o),c=function(t){var r=t.match(/\@([0-9]|[A-Z]|[a-z]|[-]|[:])*/g);if(!r)return null;var o=r.map((function(t){return t.split(":")}));if(!function(t){var r=t.map((function(t){return t[0]}));return!t.some((function(t){return t.length>2}))&&!function(t){return t.some((function(t){return!n(e,t)}))}(r)}(o))throw Error("올바르지 않은 attribute 형식이 들어있습니다!");return o}(o),p=function(t){var e=t.match(/\$([0-9]|[A-Z]|[a-z]|[-]|[:])*/g);if(!e)return null;var o=e.map((function(t){return t.substr(1).split(":")}));if(!function(t){var e=t.map((function(t){return t[0]}));return!t.some((function(t){return t.length>2}))&&!function(t){return t.some((function(t){return!n(r,t)}))}(e)}(o))throw Error("올바르지 않은 style 형식이 들어있습니다!");return o}(o);return{tagType:l,id:d,classes:u,attributes:c,styles:p}},a=function(t,e){var r=e.attributes,o=e.classes,n=e.id,i=e.styles,a=e.tagType;return!(n&&t.id!==n||o&&!function(t,e){return Array.from(t.classList).every((function(t){return e.includes(t)}))}(t,o)||a!==t.tagName.toLowerCase()||r&&!function(t,e){return e.every((function(e){var r=e[0],o=e[1];return t.getAttribute(r)===o}))}(t,r)||i&&!function(t,e){return e.every((function(e){var r=e[0],o=e[1];return t.style[r]===o}))}(t,i))};!function(){function t(t){var e,r;this.stateStorage={},this.handlerStorage={},this.HTMLElementStorage={},this.VDom=null,this.elementIndex=-1,this.stateIndex=-1,this.$root=t,e=this.handlerStorage,r=this.$root,o.forEach((function(t){e[t]=[];var o,n=(o=e[t],function(t){var e=t.target;o.forEach((function(t){var r=function(t){var e=i(t),r=e.attributes,o=e.classes,n=e.id,a=e.styles,s=e.tagType,l=n?'[id="'+n+'"]':"",d=o?'[class="'+(null==o?void 0:o.join(" "))+'"]':"",u=function(t){return null===t?"":t.map((function(t){return"["+t[0]+'="'+t[1]+'"]'})).join("")}(r),c=function(t){return null===t?"":'[style="'+t.map((function(t){return t[0]+":"+t[1]})).join(";")+'"]'}(a);return""+s+l+d+u+c}(t.template),o=i(t.template);if(e instanceof HTMLElement){if(!a(e,o)){var n=e.closest(r);if(!n)return;if(!a(n,o))return}t.callback()}}))});r.addEventListener(t,n)}))}t.prototype.initState=function(t){this.stateStorage[t]=[]},t.prototype.increaseElementIndex=function(){this.elementIndex+=1},t.prototype.increaseStateIndex=function(){this.stateIndex+=1},t.prototype.initElementIndex=function(){this.elementIndex=-1},t.prototype.initStateIndex=function(){this.stateIndex=-1},t.prototype.updater=function(t,e){var r=this;this.increaseElementIndex();var o,n,i,a=this.HTMLElementStorage[this.elementIndex];return t.type!==e.type||typeof t.children!=typeof e.children||!(!Array.isArray(t.children)||!Array.isArray(e.children)||t.children.length===e.children.length)||(JSON.stringify(t.attribute)!==JSON.stringify(e.attribute)&&(o=a,n=e.attribute,Object.keys(n).forEach((function(t){o.setAttribute(t,n[t])}))),JSON.stringify(t.style)!==JSON.stringify(e.style)&&a.setAttribute("style",(i=e.style,Object.keys(i).map((function(t){return t+":"+i[t]})).join(";"))),"string"==typeof t.children&&"string"==typeof e.children&&t.children!==e.children&&(a.innerText=e.children),void("string"!=typeof t.children&&"string"!=typeof e.children&&t.children.forEach((function(t,o){return r.updater(t,e.children[o])}))))},t.prototype.compare=function(t,e){if(!this.VDom)throw Error("업데이트 될 VDOM 이 초기화되지 않았습니다.");!0===this.updater(this.VDom,t)&&e()},t.prototype.getHTMLElementStorage=function(){return this.HTMLElementStorage},t.prototype.getStateStorage=function(){return this.stateStorage},t.prototype.getState=function(t){return this.stateStorage[t]},t.prototype.getElementIndex=function(){return this.elementIndex},t.prototype.getStateIndex=function(){return this.stateIndex},t.prototype.getVDom=function(){return this.VDom},t.prototype.getHandlerStorage=function(){return this.handlerStorage},t.prototype.getHandlers=function(t){return this.handlerStorage[t]},t.prototype.setElement=function(t,e){if(!(e instanceof HTMLElement))throw Error("HTMLElement 가 아닌 Element를 HTMLElementStorage에 넣으려고 하고 있습니다");this.HTMLElementStorage[t]=e},t.prototype.setHandler=function(t,e){var r=this.handlerStorage[t],o=null==r?void 0:r.findIndex((function(t){return t.template===e.template}));-1===o?null==r||r.push(e):null==r||r.splice(o,1,e)},t.prototype.setVDom=function(t){this.VDom=t},t.prototype.setState=function(t,e){this.stateStorage[t]=e}}()})();
//# sourceMappingURL=index.js.map